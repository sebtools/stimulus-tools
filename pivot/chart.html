<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dynamic Pivot Table</title>
	<link rel="stylesheet" href="pivot.css">
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
</head>
<body>

	<canvas id="chart" width="600" height="200"></canvas>

	<h2>Pivot Table</h2>
	<div
		data-controller="pivottable"
		data-pivottable-controller="chartjs"
		data-pivottable-source="sourceTable"
		data-pivottable-group="Quarter"
		data-pivottable-sort="Quarter"
		data-pivottable-field="Sales"
		data-pivottable-operation="sum"
		data-pivottable-pivot="Category"
		data-chartjs-canvas="#chart"
	>
	</div>

	<h2>Original Table</h2>
	<table id="sourceTable" data-controller="tablefilter">
		<thead>
			<tr>
				<th>Category</th>
				<th>Subcategory</th>
				<th>Quarter</th>
				<th>Sales</th>
			</tr>
		</thead>
		<tbody>
			<tr><td>Electronics</td><td>Phones</td><td>Q1</td><td>100</td></tr>
			<tr><td>Electronics</td><td>Phones</td><td>Q2</td><td>120</td></tr>
			<tr><td>Electronics</td><td>Phones</td><td>Q3</td><td>140</td></tr>
			<tr><td>Electronics</td><td>Phones</td><td>Q4</td><td>130</td></tr>
			<tr><td>Electronics</td><td>Laptops</td><td>Q1</td><td>80</td></tr>
			<tr><td>Electronics</td><td>Laptops</td><td>Q2</td><td>90</td></tr>
			<tr><td>Electronics</td><td>Laptops</td><td>Q3</td><td>100</td></tr>
			<tr><td>Electronics</td><td>Laptops</td><td>Q4</td><td>110</td></tr>
			<tr><td>Home Appliances</td><td>Fridges</td><td>Q1</td><td>50</td></tr>
			<tr><td>Home Appliances</td><td>Fridges</td><td>Q2</td><td>70</td></tr>
			<tr><td>Home Appliances</td><td>Fridges</td><td>Q3</td><td>90</td></tr>
			<tr><td>Home Appliances</td><td>Fridges</td><td>Q4</td><td>100</td></tr>
		</tbody>
	</table>

	<script src="../js/stimulus.js"></script>
	<script src="../js/app.js"></script>
	<script src="js/controllers/pivottable_controller.js"></script>
	<script src="../tablefilter/js/controllers/tablefilter_controller.js"></script>
	<script src="../chartjs/js/controllers/chartjs_controller.js"></script>

</body>
</html>
